name : Deploy to Azure App Service
on :
  push :
    branches :
      - main
jobs :
  build-and-deploy :
    runs-on : ubuntu-latest
    steps : 
    - name : Checkout Source
      uses : actions/checkout@v3
    - name : Setup Node.js Version
      uses : actions/setup-node@v2
      with :
        node-version : '14'
    - name : Install Dependencies
      run : npm install
    - name : Build
      run : npm run build
    - name : Deploy to Azure App Service
    - uses : azure/webapps-deploy@v2
      with :
        app-name : 'GiGG'
        publish-profile : ${{ secrets.AZURE_WEB_APP_PUPLISH_PROFILE}}
        package : .